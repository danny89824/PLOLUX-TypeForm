<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”„ë¡œì íŠ¸ ì˜ë¢° | ì›¹ ì—ì´ì „ì‹œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* íŠ¸ë Œë””í•œ ë©”ì‹œ ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
            background: radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%), 
                        radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.15) 0px, transparent 50%), 
                        #F8FAFC;
        }
        /* ë¶€ë“œëŸ¬ìš´ ë‹¨ê³„ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
        .step-container {
            transition: all 0.4s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
        }
        .step-container.active {
            opacity: 1;
            transform: translateY(0);
            display: block; /* í™œì„± ë‹¨ê³„ë§Œ í‘œì‹œ */
        }
        /* Glassmorphism ì¹´ë“œ íš¨ê³¼ */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        /* ì„ íƒëœ ë¼ë””ì˜¤ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        input[type="radio"]:checked +label {
            @apply ring-2 ring-indigo-500 bg-indigo-50 text-indigo-900;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="glass-card w-full max-w-2xl rounded-3xl shadow-xl overflow-hidden relative">
        
        <div class="h-2 bg-slate-100 relative">
            <div id="progressBar" class="h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-500" style="width: 0%;"></div>
        </div>
        
        <div class="pt-8 px-10 pb-0">
            <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">Agency.Logo</span>
        </div>

        <form id="wizardForm" class="p-10 pt-6">
            
            <div class="step-container active" data-step="1">
                <span class="text-sm font-medium text-indigo-600 mb-2 block">Step 1/4</span>
                <h2 class="text-3xl font-bold text-slate-900 mb-6 leading-tight">ì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼<br>ê³„íší•˜ê³  ê³„ì‹ ê°€ìš”?</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="relative">
                        <input type="radio" name="project_type" id="type_new" value="ì‹ ê·œêµ¬ì¶•" class="peer hidden" checked>
                        <label for="type_new" class="flex items-center p-4 bg-white border border-slate-200 rounded-xl cursor-pointer transition-all hover:shadow-md hover:border-indigo-300">
                            <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 mr-4">âœ¨</div>
                            <span class="font-medium text-slate-700">ì‹ ê·œ ì›¹ì‚¬ì´íŠ¸ êµ¬ì¶•</span>
                        </label>
                    </div>
                    <div class="relative">
                        <input type="radio" name="project_type" id="type_renewal" value="ë¦¬ë‰´ì–¼" class="peer hidden">
                        <label for="type_renewal" class="flex items-center p-4 bg-white border border-slate-200 rounded-xl cursor-pointer transition-all hover:shadow-md hover:border-indigo-300">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-4">ğŸ”„</div>
                            <span class="font-medium text-slate-700">ê¸°ì¡´ ì‚¬ì´íŠ¸ ë¦¬ë‰´ì–¼</span>
                        </label>
                    </div>
                    </div>
            </div>

            <div class="step-container" data-step="2">
                <span class="text-sm font-medium text-indigo-600 mb-2 block">Step 2/4</span>
                <h2 class="text-3xl font-bold text-slate-900 mb-2">ìƒê°í•˜ì‹œëŠ” ì˜ˆì‚° ë²”ìœ„ëŠ”<br>ì–´ë–»ê²Œ ë˜ì‹œë‚˜ìš”?</h2>
                <p class="text-slate-500 mb-6">ëŒ€ëµì ì¸ ë²”ìœ„ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ë§ì¶¤ ì œì•ˆì„ ë“œë¦½ë‹ˆë‹¤.</p>

                <div class="space-y-3">
                    <div class="relative">
                        <input type="radio" name="budget" id="budget_small" value="500ë§Œì› ë¯¸ë§Œ" class="peer hidden">
                        <label for="budget_small" class="block w-full p-4 bg-white border border-slate-200 rounded-xl cursor-pointer transition-all hover:border-indigo-300 font-medium text-center text-slate-700">
                            500ë§Œì› ë¯¸ë§Œ (Basic)
                        </label>
                    </div>
                    <div class="relative">
                        <input type="radio" name="budget" id="budget_medium" value="500~1500ë§Œì›" class="peer hidden" checked>
                        <label for="budget_medium" class="block w-full p-4 bg-white border border-slate-200 rounded-xl cursor-pointer transition-all hover:border-indigo-300 font-medium text-center text-slate-700">
                            500ë§Œì› ~ 1,500ë§Œì› (Standard)
                        </label>
                    </div>
                    <div class="relative">
                        <input type="radio" name="budget" id="budget_large" value="1500ë§Œì› ì´ìƒ" class="peer hidden">
                        <label for="budget_large" class="block w-full p-4 bg-white border border-slate-200 rounded-xl cursor-pointer transition-all hover:border-indigo-300 font-medium text-center text-slate-700">
                            1,500ë§Œì› ì´ìƒ (Premium)
                        </label>
                    </div>
                </div>
            </div>

            <div class="step-container" data-step="3">
                <span class="text-sm font-medium text-indigo-600 mb-2 block">Step 3/4</span>
                <h2 class="text-3xl font-bold text-slate-900 mb-6">ì—°ë½ë°›ìœ¼ì‹¤ ì •ë³´ë¥¼<br>ì•Œë ¤ì£¼ì„¸ìš”.</h2>
                
                <div class="space-y-6">
                    <div>
                        <label for="company" class="block text-sm font-medium text-slate-700 mb-1">íšŒì‚¬/ë¸Œëœë“œëª…</label>
                        <input type="text" id="company" name="company_name" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all bg-white/50" placeholder="ì˜ˆ: ì£¼ì‹íšŒì‚¬ ë©‹ì§„ì›¹">
                    </div>
                    <div>
                        <label for="contact_info" class="block text-sm font-medium text-slate-700 mb-1">ì´ë©”ì¼ ë˜ëŠ” ì „í™”ë²ˆí˜¸</label>
                        <input type="text" id="contact_info" name="contact" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all bg-white/50" placeholder="example@email.com">
                    </div>
                </div>
            </div>

             <div class="step-container" data-step="4">
                <span class="text-sm font-medium text-indigo-600 mb-2 block">Step 4/4</span>
                <h2 class="text-3xl font-bold text-slate-900 mb-4">ê±°ì˜ ë‹¤ ë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                <p class="text-lg text-slate-600 mb-8">
                    ì‘ì„±í•´ì£¼ì‹  ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ<br>ë‹´ë‹¹ìê°€ 24ì‹œê°„ ì´ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                </p>
                <div>
                    <label for="memo" class="block text-sm font-medium text-slate-700 mb-1">ì¶”ê°€ ìš”ì²­ì‚¬í•­ (ì„ íƒ)</label>
                    <textarea id="memo" name="memo" rows="3" class="w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all bg-white/50 resize-none" placeholder="ê¶ê¸ˆí•œ ì ì´ ìˆë‹¤ë©´ ì ì–´ì£¼ì„¸ìš”."></textarea>
                </div>
            </div>


            <div class="mt-10 flex justify-between items-center pt-6 border-t border-slate-100">
                <button type="button" id="prevBtn" class="px-6 py-3 rounded-xl text-slate-600 font-medium hover:bg-slate-100 transition-all hidden">ì´ì „</button>
                
                <button type="button" id="nextBtn" class="ml-auto px-8 py-3 rounded-xl bg-indigo-600 text-white font-bold hover:bg-indigo-700 transition-all shadow-lg hover:shadow-indigo-500/30 flex items-center">
                    <span>ë‹¤ìŒ ë‹¨ê³„ë¡œ</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>
                </button>
            </div>

        </form>
    </div>

    <script>
        const WEBHOOK_URL = 'https://recommand.app.n8n.cloud/webhook/377684b2-0e45-45e8-b3ea-19390be60506'; // *** ì‹¤ì œ URLë¡œ êµì²´ í•„ìˆ˜ ***

        let currentStep = 1;
        const totalSteps = document.querySelectorAll('.step-container').length;
        const form = document.getElementById('wizardForm');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        const progressBar = document.getElementById('progressBar');

        // ì´ˆê¸° ìƒíƒœ ì„¤ì •
        updateUI();

        // ë‹¤ìŒ ë²„íŠ¼ í´ë¦­
        nextBtn.addEventListener('click', () => {
            if (currentStep < totalSteps) {
                if (!validateStep(currentStep)) return; // ìœ íš¨ì„± ê²€ì‚¬
                currentStep++;
                updateUI();
            } else {
                // ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ì œì¶œ
                submitForm();
            }
        });

        // ì´ì „ ë²„íŠ¼ í´ë¦­
        prevBtn.addEventListener('click', () => {
            if (currentStep > 1) {
                currentStep--;
                updateUI();
            }
        });

        // Enterí‚¤ë¡œ ë‹¤ìŒ ë‹¨ê³„ ì´ë™ (í¸ì˜ì„±)
        form.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                nextBtn.click();
            }
        });

        // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (ë‹¨ê³„ ì „í™˜, í”„ë¡œê·¸ë ˆìŠ¤ë°”, ë²„íŠ¼ ìƒíƒœ)
        function updateUI() {
            // ë‹¨ê³„ í‘œì‹œ
            document.querySelectorAll('.step-container').forEach(step => {
                step.classList.toggle('active', parseInt(step.dataset.step) === currentStep);
            });

            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸
            const progress = ((currentStep - 1) / (totalSteps - 1)) * 100;
            progressBar.style.width = `${progress}%`;

            // ë²„íŠ¼ ìƒíƒœ ê´€ë¦¬
            prevBtn.style.display = currentStep === 1 ? 'none' : 'block';
            if (currentStep === totalSteps) {
                nextBtn.innerHTML = '<span>ì˜ë¢°ì„œ ì œì¶œí•˜ê¸°</span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>';
                nextBtn.classList.replace('bg-indigo-600', 'bg-green-600');
                nextBtn.classList.replace('hover:bg-indigo-700', 'hover:bg-green-700');
            } else {
                nextBtn.innerHTML = '<span>ë‹¤ìŒ ë‹¨ê³„ë¡œ</span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></svg>';
                 nextBtn.classList.replace('bg-green-600', 'bg-indigo-600');
                nextBtn.classList.replace('hover:bg-green-700', 'hover:bg-indigo-700');
            }
        }

        // ê°„ë‹¨í•œ ìœ íš¨ì„± ê²€ì‚¬
        function validateStep(step) {
            const currentStepEl = document.querySelector(`.step-container[data-step="${step}"]`);
            const inputs = currentStepEl.querySelectorAll('input[required], select[required]');
            let isValid = true;
            inputs.forEach(input => {
                if (!input.value) {
                    isValid = false;
                    input.classList.add('ring-2', 'ring-red-500'); // ì—ëŸ¬ í‘œì‹œ
                } else {
                    input.classList.remove('ring-2', 'ring-red-500');
                }
            });
            if (!isValid) alert('í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            return isValid;
        }

        // Webhook ì „ì†¡ í•¨ìˆ˜
        async function submitForm() {
            nextBtn.disabled = true;
            nextBtn.innerHTML = '<span>ì œì¶œ ì¤‘...</span>...';

            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                // ì‹¤ì œë¡œëŠ” ì£¼ì„ í•´ì œí•˜ê³  ì‚¬ìš©
                /*
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data),
                });
                if (!response.ok) throw new Error('Network response was not ok');
                */
               
                // ì„±ê³µ ì‹œë®¬ë ˆì´ì…˜ (2ì´ˆ í›„ ì™„ë£Œ ì²˜ë¦¬)
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                alert('âœ… ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤! ê³§ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
                form.reset();
                currentStep = 1;
                updateUI();

            } catch (error) {
                console.error('Error:', error);
                alert('âŒ ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.');
            } finally {
                nextBtn.disabled = false;
                updateUI(); // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³µêµ¬
            }
        }
    </script>
</body>
</html>
